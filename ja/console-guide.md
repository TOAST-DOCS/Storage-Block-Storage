## Storage > Block Storage > コンソール使用ガイド

## ブロックストレージの作成

インスタンスに接続するブロックストレージを作成します。ブロックストレージのサイズは最小10GB、最大1,000GBです。

ブロックストレージは、何もデータが入っていない空のブロックストレージとして作成することもでき、既存ブロックストレージのスナップショットでも作成できます。

空のブロックストレージを作成するには、 **Block Storageソース**を**ソースなし、空のBlock Storage**で選択します。空のブロックストレージは、インスタンスに接続後、パーティションを分割してフォーマットした後に使用する必要があります。ブロックストレージの使用方法については[ブロックストレージ概要 > 空のブロックストレージの使用](/Storage/Block%20Storage/ja/overview/#_1)を参照してください。空のブロックストレージが位置するアベイラビリティーゾーン(availability zone)は、作成するブロックストレージを接続するインスタンスがあるアベイラビリティーゾーンを使用します。ボリュームタイプは必要なI/O性能に応じて**HDD**、**SSD** の中から1つを選択します。

ブロックストレージのスナップショットからブロックストレージを作成することもできます。スナップショットからブロックストレージを作成する場合、ブロックストレージのサイズはスナップショットのサイズと同じかそれより大きくなければいけません。サイズをさらに大きく設定するには、お客様が直接既存ブロックストレージのパーティションを調整するか、新しいパーティションを追加し、増えた記憶領域を使用する必要があります。

スナップショットでブロックストレージを作成する場合、ブロックストレージのアベイラビリティーゾーンはスナップショットが保存されているアベイラビリティーゾーンに固定されます。スナップショットと異なるアベイラビリティーゾーンにはブロックストレージを作成できません。

## ブロックストレージの削除

ブロックストレージを削除する前に、次の事項を確認します。

* インスタンスに接続されているブロックストレージは削除できません。まず接続を解除します。
* スナップショットを持っているブロックストレージは削除できません。ブロックストレージのスナップショットを全て削除します。

一度削除されたブロックストレージは二度と復旧できません。

## 接続の管理

### ブロックストレージの接続

インスタンスにブロックストレージを接続します。インスタンスが実行中の時にも接続できます。ブロックストレージは同じアベイラビリティーゾーンにあるインスタンスにのみ接続できます。ブロックストレージを作成する時、接続するインスタンスと同じアベイラビリティーゾーンでブロックストレージを作成するようにします。

空のブロックストレージを接続すると、インスタンスからパーティションを分割してフォーマットした後に使用する必要があります。フォーマットされたブロックストレージはマウントして使用します。スナップショットで作成したブロックストレージもお客様が直接インスタンス内でマウントすると使用できます。

> [参考]
> オペレーションシステムの機能によって自動的にマウントされ、別途マウントする必要がない場合もあります。 

### ブロックストレージの接続解除

インスタンスで必要ないブロックストレージの接続を解除します。ただし、基本ディスクはインスタンスから接続解除できません。

インスタンスが実行中の状態でもブロックストレージの接続を解除できます。ただし、先にインスタンスでブロックストレージのマウントを解除し、コンソールでブロックストレージの接続を解除する必要があります。ブロックストレージがマウントされた状態で接続を解除すると、次のような問題が発生します。

1. ブロックストレージのデータが損傷し、データが消失する場合があります。
2. ブロックストレージを新たに追加すると、コンソールのブロックストレージ名とインスタンスのブロックストレージ名が別々になります。コンソールとインスタンスで同じブロックストレージ名が表示されるようにするにはインスタンスを再起動する必要があります。

**Linuxインスタンス**

	# umount <マウントポイント>

**Windowsインスタンス**

**ディスクの管理**で該当のディスクを**オフライン**にした後、接続を解除します。

## スナップショットの作成

ブロックストレージの読み取り専用のコピーを作成します。ブロックストレージがインスタンスに接続されている状態でも、ブロックストレージのスナップショットを作成できますが、データの整合性と安定性を保障するには、インスタンスから接続を解除してブロックストレージのスナップショットを作成することを推奨します。 
